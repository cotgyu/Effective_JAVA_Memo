이펙티브 자바
-------------

---

### 6장 열거타입과 애너테이션

-	열거타입과 애너테이션들을 올바르게 사용하는 방법을 알아보자

#### 아아템 34 int 상수 대신 열거 타입을 사용하라

-	열거 타입은 일정 개수의 상수 값을 정의한 다음, 그 외의 값은 허용하지 않는 타입이다.

-	정수 열거 패턴, 문자열 열거 패턴에는 단점들이 많다.

-	자바는 위의 패턴의 단점을 없애고 장점을 주는 열거 타입을 제시했다.

	-	열거 타입 자체는 클래스이며, 상수 하나당 자신의 인스턴스를 만들어 public static final 필드로 공개한다.
	-	열거 타입은 밖에서 접근할 수 있는 생성자를 제공하지 않으므로 사실상 final이다.
	-	클라이언트가 인스턴스를 직접 생성하거나 확장할 수 없으니 열거타입 선언으로 만들어진 인스턴스는 딱 하나만 존재함이 보장된다.
	-	컴파일 타입 안전성을 제공한다.
	-	열거타입은 임의의 메서드나 필드를 추가할 수 있고 임의의 인터페이스를 구현하게 할 수도 있다. (Object 메서드, Comparable, Serializable 구현)
	-	추상메서드를 통해 상수별 메서드 구현도 가능하다.
	-	상수별 메서드 구현에는 열거 타입 상수끼리 코드를 공유하기 어려운데, 전략 열거 타입패턴을 통해 안전하고 유연하게 사용할 수 있다.

	```java
	public enum Apple { FUJI, PIPPIN, GRANNY_SMITH }
	public enum Orange { NAVEL, TEMPLE, BLOOD }
	```

-	필요한 원소를 컴파일타임에 다 알 수 있는 상수 집합이라면 항상 열거타입을 사용하자.

-	책에 있는 핵심 정리

	-	열거 타입은 정수 상수보다 더 읽기 쉽고 안전하고 강력하다.
	-	각 상수를 특정 데이터와 연결짓거나 상수마다 다르게 동작하게 할 때는 생성자나 메서드가 필요하다.
	-	하나의 메서드가 상수별로 다르게 동작해야할 때는 switch 대신 상수별 메서드 구현을 사용하자.
	-	열거 타입 상수 일부가 같은 동작을 공유한다면 전략 열거 타입 패턴을 사용하자.

#### 아이템 35 ordinal 메서다 대신 인스턴스 필드를 사용하라

-	모든 열거 타입은 해당 상수가 그 열거 타입에서 몇 번째 위치인지를 반환하는 ordinal 메서드를 제공한다.

	-	ordinal을 잘못 사용하면 유지보수 끔찍해진다.
	-	ordinal은 EnumSet과 EnumMap 같이 열거 타입 기반의 범용 자료구조에 쓸 목적으로 설계되었다. 이런 용도가 아니라면 사용하지 말자.

-	열거 타입 상수에 연결된 값은 ordinal 메서드로 얻지 말고, 인스턴스 필드에 저장하자.

```java
public enum Ensemble{
  SOLE(1), DEUT(2), TRIO(3), QUARTET(4), QUINTET(5);

  private final int numberOfMusicians;
  Ensemble(int size) {
    this.numberOfMusicians = size;
  }
  public int numberOfMusicians(){
    return numberOfMusicians;
  }
}

```
